# MeshAdv-Mini Configuration Template
# LoRa/GPS Raspberry Pi HAT with SX1262 for US 915MHz
# https://github.com/chrismyers2000/MeshAdv-Mini
#
# Hardware: SX1262 (E22-900M22S)
# Frequency: 915MHz ISM band (902-928 MHz) - US, ANZ, JP, KR, TW
# Features: +22dBm LoRa, GPS (ATGM336H), TMP102 Temp Sensor, PWM Fan
# Compatible: Raspberry Pi 2/3/4/5, Zero, Zero W, Zero 2 W
#
# Note: For EU 433MHz (SX1268), use meshadv-mini-400mhz.yaml template

Lora:
  # === GPIO Configuration (MeshAdv-Mini Standard) ===
  # SPI Chip Select - GPIO 8 (Pin 24)
  CS: 8

  # Interrupt Request (DIO1) - GPIO 16 (Pin 36)
  IRQ: 16

  # Busy signal - GPIO 20 (Pin 38)
  Busy: 20

  # Reset pin - GPIO 24 (Pin 18)
  Reset: 24

  # RX Enable - GPIO 12 (Pin 32)
  RXen: 12

  # === Radio Options ===
  # Use DIO2 as RF switch control (required for SX1262/SX1268)
  DIO2_AS_RF_SWITCH: true

  # Enable DIO3 TCXO voltage control (required for temperature stability)
  DIO3_TCXO_VOLTAGE: true

  # === Radio Parameters ===
  # Uncomment and adjust these for custom modem presets:

  # Bandwidth in kHz (125, 250, 500)
  # Higher = faster but shorter range
  # Bandwidth: 250

  # Spreading Factor (7-12)
  # Lower = faster but shorter range, Higher = slower but longer range
  # SpreadFactor: 11

  # Coding Rate (5-8 for 4/5 to 4/8)
  # Higher = more error correction but slower
  # CodingRate: 8

  # Transmit Power in dBm (0-22 for MeshAdv-Mini)
  # Higher = longer range but more battery usage
  # TXpower: 22

  # Hop Limit (0-7)
  # Number of times a message can be retransmitted
  # HopLimit: 3

  # Channel Slot (0-104 for US region)
  # Different slots help avoid interference
  # Common: Slot 20 for LongFast
  # ChannelNum: 20

  # === SPI Configuration ===
  # SPI bus speed (optional, default is usually fine)
  # SPISpeed: 2000000

GPS:
  # GPS module: ATGM336H-5NR32 (GPS/BeiDou capable)
  # Serial port options:
  #   - /dev/ttyS0 for Pi 3/4/5 (hardware UART)
  #   - /dev/ttyAMA0 for older Pi or if ttyS0 doesn't work
  SerialPath: /dev/ttyS0

  # GPS enable pin - GPIO 4 (Pin 7)
  GPSEnableGpio: 4

  # PPS (Pulse Per Second) available on GPIO 17 for precise timekeeping
  # Uncomment to enable PPS:
  # PPSGpio: 17

I2C:
  # I2C bus for temperature sensor (TMP102 at address 0x48)
  I2CDevice: /dev/i2c-1

Webserver:
  # Web interface port (443 for HTTPS, 80 for HTTP)
  Port: 443

# === Optional: Logging Configuration ===
# Uncomment to set custom log level
# Logging:
#   LogLevel: info  # Options: debug, info, warn, error

# === Common Presets ===
# Uncomment the preset you want to use:
#
# LongFast (default):
#   Bandwidth: 250, SpreadFactor: 11, CodingRate: 8, TXpower: 22
#
# MediumFast (MtnMesh standard):
#   Bandwidth: 250, SpreadFactor: 10, CodingRate: 8, TXpower: 22
#
# ShortFast (urban/dense areas):
#   Bandwidth: 250, SpreadFactor: 7, CodingRate: 8, TXpower: 20
